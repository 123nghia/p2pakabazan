# Environment variables for Docker development
# Copy this file to .env: cp .env.example .env (or copy .env.example .env on Windows)
#
# IMPORTANT: When you run start-dev.bat or docker-dev.sh:
# - PostgreSQL database will be created automatically
# - Flyway will run 28 migrations automatically (no manual steps needed)
# - Application will be accessible at http://localhost:9000/api
# - pgAdmin will be accessible at http://localhost:5050

# ===== Database Configuration =====
POSTGRES_DB=p2p_trading_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres123

# Application Database Connection (for application-dev.properties)
DB_URL=jdbc:postgresql://db:5432/p2p_trading_dev
DB_USERNAME=postgres
DB_PASSWORD=postgres123
DB_POOL_SIZE=15

# ===== pgAdmin Configuration =====
# Note: Email must be a valid format (example.com works, .local doesn't)
PGADMIN_EMAIL=admin@p2p.com
PGADMIN_PASSWORD=admin123

# ===== RabbitMQ Configuration =====
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest

# RabbitMQ Connection (for application-dev.properties)
SPRING_RABBITMQ_HOST=rabbitmq
SPRING_RABBITMQ_PORT=5672

# ===== Redis Configuration =====
SPRING_REDIS_HOST=redis
SPRING_REDIS_PORT=6379

# ===== Application Configuration =====
SERVER_PORT=9000
SPRING_PROFILES_ACTIVE=dev
SPRING_JPA_SHOW_SQL=false

# ===== Partner SSO (redirect) =====
# Format: APP_SSO_PARTNERS=PARTNER_ID:SHARED_SECRET[,PARTNER_ID2:SHARED_SECRET2]
APP_SSO_PARTNERS=SAN_A:change-me
APP_SSO_ADMIN_TOKEN=change-me
APP_SSO_CODE_TTL_SECONDS=60
APP_SSO_NONCE_TTL_SECONDS=300
APP_SSO_TIMESTAMP_SKEW_SECONDS=300

# CORS for local browser mocks (partner_mock, p2p_ui_mock)
APP_CORS_ALLOWED_ORIGINS=http://localhost:8085,http://localhost:9898

# ===== Partner Internal API (P2P -> Partner) =====
# Format: APP_PARTNER_API_PARTNERS=PARTNER_ID=http://partner-host:port[,PARTNER_ID2=http://...]
APP_PARTNER_API_PARTNERS=SAN_A=http://localhost:8085
APP_PARTNER_API_CLIENT_ID=P2P_APP
APP_PARTNER_API_CLIENT_SECRET=change-me

# JWT Secret (change this in production!)
JWT_SECRET=your-secret-key-change-this-in-production-min-256-bits

# ===== Port Mappings (can be changed if conflicts occur) =====
# Format: HOST_PORT:CONTAINER_PORT
DB_PORT=5432
APP_PORT=9000
PGADMIN_PORT=5050
RABBITMQ_PORT=5672
RABBITMQ_MGMT_PORT=15672
REDIS_PORT=6379
